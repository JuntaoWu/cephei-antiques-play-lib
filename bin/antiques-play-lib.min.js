var __reflect=this&&this.__reflect||function(e,t,i){e.__class__=t,i?i.push(t):i=[t],e.__types__=e.__types__?i.concat(e.__types__):i},__extends=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);i.prototype=t.prototype,e.prototype=new i},__awaiter=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,r){function a(e){try{c(n.next(e))}catch(t){r(t)}}function s(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(a,s)}c((n=n.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){function i(e){return function(t){return n([e,t])}}function n(i){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,r&&(a=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[0,a.value]),i[0]){case 0:case 1:a=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!(a=a.length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){c.label=i[1];break}if(6===i[0]&&c.label<a[1]){c.label=a[1],a=i;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(i);break}a[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(n){i=[6,n],r=0}finally{o=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var o,r,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},__assign=this&&this.__assign||Object.assign||function(e){for(var t,i=1,n=arguments.length;n>i;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},childGame;!function(e){var t=function(t){function i(e){var n=t.call(this,i.NAME,e)||this;return n.selectedList=[],t.prototype.initializeNotifier.call(n,"ChildApplicationFacade"),n.floorSwitch.buttonList.addEventListener(eui.ItemTapEvent.ITEM_TAP,n.selectItem,n),n.floorSwitch.addEventListener(egret.Event.ADDED_TO_STAGE,n.initData,n),n}return __extends(i,t),i.prototype.initData=function(){return __awaiter(this,void 0,void 0,function(){var t,i,n,o;return __generator(this,function(r){for(this.dataList=[{name:"虎",img:"m18_1",isSelected:!1},{name:"虎",img:"m18_2",isSelected:!1},{name:"虎",img:"m18_3",isSelected:!1},{name:"蛇",img:"m18_4",isSelected:!1},{name:"蛇",img:"m18_5",isSelected:!1},{name:"狼",img:"m18_6",isSelected:!1},{name:"狼",img:"m18_7",isSelected:!1},{name:"鹰",img:"m18_8",isSelected:!1},{name:"鹰",img:"m18_9",isSelected:!1}],t=this.dataList.length,i=0;t-1>i;i++)n=Math.floor(Math.random()*(t-i)),o=this.dataList[n],this.dataList[n]=this.dataList[t-i-1],this.dataList[t-i-1]=o;return this.floorSwitch.buttonList.dataProvider=new eui.ArrayCollection(this.dataList),this.floorSwitch.buttonList.itemRenderer=e.SwitchItemRenderer,[2]})})},i.prototype.selectItem=function(){var t=this;console.log(this.floorSwitch.buttonList.selectedItem);var i=this.floorSwitch.buttonList.selectedItem;if(this.selectedList.find(function(e){return e.img==i.img})){var n=this.selectedList.findIndex(function(e){return e.img==i.img});this.selectedList.splice(n,1)}else this.selectedList.length<3?this.selectedList.push(this.floorSwitch.buttonList.selectedItem):(this.selectedList.shift(),this.selectedList.push(this.floorSwitch.buttonList.selectedItem));if(3==this.selectedList.length){var o=!this.selectedList.find(function(e){return"虎"!=e.name});o&&(this.floorSwitch.buttonList.touchEnabled=!1,this.floorSwitch.buttonList.touchChildren=!1,this.sendNotification(e.GameProxy.PASS_MINIGAME))}this.dataList.forEach(function(e){e.isSelected=!1,t.selectedList.find(function(t){return t.img==e.img})&&(e.isSelected=!0)}),this.floorSwitch.buttonList.dataProvider=new eui.ArrayCollection(this.dataList),this.floorSwitch.buttonList.itemRenderer=e.SwitchItemRenderer},Object.defineProperty(i.prototype,"floorSwitch",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),i.NAME="MiniGameFloorSwitchMediator",i}(puremvc.Mediator);e.MiniGameFloorSwitchMediator=t,__reflect(t.prototype,"childGame.MiniGameFloorSwitchMediator",["puremvc.IMediator","puremvc.INotifier"])}(childGame||(childGame={}));var childGame;!function(e){var t=function(){function t(){}return t.checkForUpdate=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(i){return[2,new Promise(function(i,n){return __awaiter(t,void 0,void 0,function(){var t,o;return __generator(this,function(r){switch(r.label){case 0:return"DebugPlatform"==platform.name?[2,i({hasUpdate:!1})]:[4,platform.getVersion()];case 1:return t=r.sent()||0,console.log("Check version begin, current version is: "+t),o=new egret.HttpRequest,o.responseType=egret.HttpResponseType.TEXT,o.open(e.Constants.Endpoints.service+"version/check?version="+t,egret.HttpMethod.GET),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(),o.addEventListener(egret.Event.COMPLETE,function(e){var o=e.currentTarget,r=JSON.parse(o.response);r.error?(console.error(r.message),n(r.message)):(console.log("Check version end, lastest version is: "+(r.data&&r.data.version||t)),i(r.data))},this),[2]}})})})]})})},t}();e.AccountAdapter=t,__reflect(t.prototype,"childGame.AccountAdapter")}(childGame||(childGame={}));var childGame;!function(e){var t=function(){function e(){}return e.prototype.getAsset=function(e,t,i){function n(n){t.call(i,n,e)}if(RES.hasRes(e)){var o=RES.getRes(e);o?n(o):RES.getResAsync(e,n,this)}else RES.getResByUrl(e,n,this,RES.ResourceItem.TYPE_IMAGE)},e}();e.AssetAdapter=t,__reflect(t.prototype,"childGame.AssetAdapter",["eui.IAssetAdapter"])}(childGame||(childGame={}));var childGame;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName="LoadingUI",t.addEventListener(eui.UIEvent.CREATION_COMPLETE,t.createCompleteEvent,t),t}return __extends(t,e),t.prototype.createCompleteEvent=function(e){this.removeEventListener(eui.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this),this.progressBg.y=this.stage.stageHeight-30,this.progressBar.y=this.stage.stageHeight-30,this.loadingLabel.y=this.stage.stageHeight-60},t.prototype.onProgress=function(e,t){this.labelText.text=e+"/"+t,this.progressBar.width=this.stage.width*e/t},t.prototype.showInformation=function(e){this.loadingText.text=e,this.labelText.text=""},t}(eui.Component);e.LoadingUI=t,__reflect(t.prototype,"childGame.LoadingUI",["RES.PromiseTaskReporter"])}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return __extends(i,t),i.prototype.createChildren=function(){t.prototype.createChildren.call(this),Object.entries="function"==typeof Object.entries?Object.entries:function(e){return Object.keys(e).map(function(t){return[t,e[t]]})},egret.lifecycle.addLifecycleListener(function(e){}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()};var i=new e.AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",i),egret.registerImplementation("eui.IThemeAdapter",new e.ThemeAdapter),this.runGame()["catch"](function(e){console.log(e)})},i.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return[4,this.loadResource()];case 1:return t.sent(),this.createGameScene(),[4,platform.login()];case 2:return t.sent(),[4,platform.getUserInfo()];case 3:return e=t.sent(),console.log(e),[2]}})})},i.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var t,i,n;return __generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,6,,7]),[4,e.AccountAdapter.checkForUpdate()];case 1:return t=o.sent(),t.hasUpdate&&platform.applyUpdate(t.version),[4,RES.loadConfig("antiques-play.res.json",e.Constants.ResourceEndpoint+"resource/")];case 2:return o.sent(),[4,this.loadTheme()];case 3:return o.sent(),[4,RES.loadGroup("loading",1)];case 4:return o.sent(),i=new e.LoadingUI,this.stage.addChild(i),[4,RES.loadGroup("antiques-preload",0,i)];case 5:return o.sent(),RES.loadGroup("antiques-lazyload",0),this.stage.removeChild(i),[3,7];case 6:return n=o.sent(),console.error(n),[3,7];case 7:return[2]}})})},i.prototype.loadTheme=function(){var e=this;return new Promise(function(t,i){var n=new eui.Theme("resource/antiques-play.thm.json",e.stage);n.addEventListener(eui.UIEvent.COMPLETE,function(){t()},e)})},i.prototype.createGameScene=function(){var t=new e.AppContainer;this.addChild(t),e.ApplicationFacade.getInstance().startUp(t)},i.prototype.createBitmapByName=function(e){var t=new egret.Bitmap,i=RES.getRes(e);return t.texture=i,t},i.prototype.onButtonClick=function(e){var t=new eui.Panel;t.title="Title",t.horizontalCenter=0,t.verticalCenter=0,this.addChild(t)},i}(eui.UILayer);e.Main=t,__reflect(t.prototype,"childGame.Main")}(childGame||(childGame={}));var childGame;!function(e){var t=function(){function e(){}return e.prototype.getTheme=function(e,t,i,n){function o(e){t.call(n,e)}function r(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),i.call(n))}var a=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){t.call(n,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.getResByUrl("resource/gameEui.json",function(e,i){window.JSONParseClass.setData(e),egret.callLater(function(){t.call(n,generateEUI2)},a)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(e.indexOf(".exml")>-1){var s=e.split("/");s.pop();var c=s.join("/")+"_EUI.json";generateJSON.paths[e]?egret.callLater(function(){t.call(n,generateJSON.paths[e])},this):RES.getResByUrl(c,function(i){window.JSONParseClass.setData(i),egret.callLater(function(){t.call(n,generateJSON.paths[e])},a)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){t.call(n,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),RES.getResByUrl(e,o,this,RES.ResourceItem.TYPE_TEXT)},e}();e.ThemeAdapter=t,__reflect(t.prototype,"childGame.ThemeAdapter",["eui.IThemeAdapter"])}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(){var i=t.call(this)||this;return i.startScreen=new e.StartScreen,i.gameScreen=new e.GameScreen,i.storeWindow=new e.StoreWindow,i.alpha=0,i}return __extends(i,t),i.prototype.enterStartScreen=function(){this.gameScreen.parent&&this.removeChild(this.gameScreen),this.addChild(this.startScreen),egret.Tween.get(this).to({alpha:1},1500)},i.prototype.enterGameScreen=function(){this.startScreen.parent&&this.removeChild(this.startScreen),this.addChild(this.gameScreen),egret.Tween.get(this).to({alpha:1},1500)},i.prototype.showStoreWindow=function(){this.storeWindow||(this.storeWindow=new e.StoreWindow),this.addChild(this.storeWindow),egret.Tween.get(this).to({alpha:1},1500)},i.prototype.showSceneSummaryWindow=function(){this.sceneWindow||(this.sceneWindow=new e.SceneSummaryWindow),this.addChild(this.sceneWindow),egret.Tween.get(this).to({alpha:1},1500)},i.prototype.showSceneDetailsWindow=function(t){this.sceneDetailsWindow||(this.sceneDetailsWindow=new e.SceneDetailsWindow),this.sceneDetailsWindow.setSceneType(t),this.addChild(this.sceneDetailsWindow),egret.Tween.get(this).to({alpha:1},1500)},i.prototype.showDeveloperWindow=function(){this.developerWindow||(this.developerWindow=new e.DeveloperWindow),this.addChild(this.developerWindow),egret.Tween.get(this).to({alpha:1},1500)},i.prototype.showManageWindow=function(){this.manageWindow||(this.manageWindow=new e.ManageWindow),this.addChild(this.manageWindow),egret.Tween.get(this).to({alpha:1},1500)},i.prototype.showSettingWindow=function(){this.settingWindow||(this.settingWindow=new e.SettingWindow),this.addChild(this.settingWindow),egret.Tween.get(this).to({alpha:1},1500)},i}(eui.UILayer);e.AppContainer=t,__reflect(t.prototype,"childGame.AppContainer")}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(){return t.call(this)||this}return __extends(i,t),i.prototype.execute=function(t){(new e.GameCommand).register(),(new e.SceneCommand).register()},i}(puremvc.SimpleCommand);e.ControllerPrepCommand=t,__reflect(t.prototype,"childGame.ControllerPrepCommand",["puremvc.ICommand","puremvc.INotifier"])}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(){return t.call(this)||this}return __extends(i,t),i.prototype.execute=function(t){this.facade().registerProxy(new e.GameProxy)},i}(puremvc.SimpleCommand);e.ModelPrepCommand=t,__reflect(t.prototype,"childGame.ModelPrepCommand",["puremvc.ICommand","puremvc.INotifier"])}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(){return t.call(this)||this}return __extends(i,t),i.prototype.initializeMacroCommand=function(){this.addSubCommand(e.ControllerPrepCommand),this.addSubCommand(e.ModelPrepCommand),this.addSubCommand(e.ViewPrepCommand)},i}(puremvc.MacroCommand);e.StartupCommand=t,__reflect(t.prototype,"childGame.StartupCommand")}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(){return t.call(this)||this}return __extends(i,t),i.prototype.execute=function(t){var i=t.getBody();this.facade().registerMediator(new e.ApplicationMediator(i))},i}(puremvc.SimpleCommand);e.ViewPrepCommand=t,__reflect(t.prototype,"childGame.ViewPrepCommand",["puremvc.ICommand","puremvc.INotifier"])}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(){return t.call(this)||this}return __extends(i,t),i.prototype.register=function(){this.initializeNotifier("ChildApplicationFacade"),this.facade().registerCommand(i.START_GAME,i)},i.prototype.execute=function(t){return __awaiter(this,void 0,void 0,function(){var i,n;return __generator(this,function(o){return i=this.facade().retrieveProxy(e.GameProxy.NAME),n=t.getBody(),t.getName(),[2]})})},i.NAME="GameCommand",i.START_GAME="start_game",i}(puremvc.SimpleCommand);e.GameCommand=t,__reflect(t.prototype,"childGame.GameCommand",["puremvc.ICommand","puremvc.INotifier"])}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(){return t.call(this)||this}return __extends(i,t),i.prototype.register=function(){this.initializeNotifier("ChildApplicationFacade")},i.prototype.initializeNotifier=function(e){t.prototype.initializeNotifier.call(this,e),this.facade().registerCommand(i.CHANGE,i),this.facade().registerCommand(i.SHOW_MANAGE,i),this.facade().registerCommand(i.SHOW_DEVE,i),this.facade().registerCommand(i.SHOW_STORE,i),this.facade().registerCommand(i.SHOW_SCENE,i),this.facade().registerCommand(i.SHOW_SCENE_DETAILS,i),this.facade().registerCommand(i.SHOW_SETTING,i)},i.prototype.execute=function(t){return __awaiter(this,void 0,void 0,function(){var n,o,r;return __generator(this,function(a){switch(n=t.getBody(),o=this.facade().retrieveMediator(e.ApplicationMediator.NAME),r=this.facade().retrieveProxy(e.GameProxy.NAME),t.getName()){case i.CHANGE:n==e.Scene.Start?o.main.enterStartScreen():n==e.Scene.Game&&o.main.enterGameScreen();break;case i.SHOW_STORE:o.main.showStoreWindow();break;case i.SHOW_SCENE:o.main.showSceneSummaryWindow();break;case i.SHOW_SCENE_DETAILS:o.main.showSceneDetailsWindow(n);break;case i.SHOW_DEVE:o.main.showDeveloperWindow();break;case i.SHOW_MANAGE:o.main.showManageWindow();break;case i.SHOW_SETTING:o.main.showSettingWindow()}return[2]})})},i.NAME="SceneCommand",i.CHANGE="scene_change",i.SHOW_MANAGE="show_manage",i.SHOW_DEVE="show_developer",i.SHOW_STORE="show_store",i.SHOW_SCENE="show_scene",i.SHOW_SCENE_DETAILS="show_scene_details",i.SHOW_SETTING="show_setting",i}(puremvc.SimpleCommand);e.SceneCommand=t,__reflect(t.prototype,"childGame.SceneCommand",["puremvc.ICommand","puremvc.INotifier"])}(childGame||(childGame={}));var childGame;!function(e){var t=function(){function e(){}return e.playEffect=function(t){var i=this;switch(t){case"放大":e.beBig(i);break;case"消失":e.disappear2(i);break;case"渐变消失":e.disappear(i);break;case"渐变出现":e.gradualShow(i);break;case"头晕目眩":e.vagueImage(i);break;case"睁眼":e.gradualShow2(i);break;case"晃动":e.shakeTarget(i);break;case"剧烈抖动":e.shakeTargetSevere(i);break;case"渐亮":e.gradualClear(i);break;case"放大一下消失":e.beBigAndDisappear(i);break;case"由模糊变清晰":e.vagueToClear(i);break;case"画面慢慢变模糊变黑":e.gradualVague(i)}},e.beBig=function(e){egret.Tween.get(e).to({scaleX:1.2,scaleY:1.2},100)},e.disappear=function(e){egret.Tween.get(e).to({alpha:0},800)},e.gradualClear=function(e){e.alpha=.8,egret.Tween.get(e).to({alpha:1},800)},e.beBigAndDisappear=function(e){egret.Tween.get(e).to({scaleX:1.2,scaleY:1.2},100).to({alpha:0},500)},e.disappear2=function(e){e.alpha=0},e.gradualShow=function(e){e.alpha=0,egret.Tween.get(e).to({alpha:1},800)},e.shakeTargetSevere=function(e){egret.Tween.get(e,{loop:!0}).to({x:-10},200).to({x:10},400).to({x:0},200),egret.setTimeout(function(){egret.Tween.removeTweens(e),e.x=0},this,4e3)},e.shakeTarget=function(e){egret.Tween.get(e,{loop:!0}).to({x:-10},500).to({x:10},1e3).to({x:0},500),egret.setTimeout(function(){egret.Tween.removeTweens(e),e.x=0},this,4e3)},e.gradualShow2=function(e){var t=new egret.Shape;t.name="added",e.parent.addChild(t),t.x=e.width/2,t.y=e.height/2;var i=e.width,n=egret.setInterval(function(){t.graphics.beginFill(16777215),t.graphics.drawCircle(0,0,e.width-i),t.graphics.endFill(),e.mask=t,i-=10},this,40);egret.setTimeout(function(){t.parent&&t.parent.removeChild(t),egret.clearInterval(n)},this,3e3)},e.vagueImage=function(e){var t=e,i=new eui.Image;i.width=t.width,i.height=t.height,i.source=t.source,i.alpha=.3;var n=t.parent.getChildIndex(t)+1;i.name="added",t.parent.addChildAt(i,n),egret.Tween.get(i,{loop:!0}).to({x:-10,y:-10,rotation:1},500).to({x:10,y:10,rotation:-1},1e3).to({x:0,y:0,rotation:0},500),egret.setTimeout(function(){egret.Tween.removeTweens(i),i.parent&&i.parent.removeChild(i)},this,4e3)},e.vagueToClear=function(e){var t=e,i=new eui.Image;i.width=t.width,i.height=t.height,i.source=t.source,i.x=i.y=2,i.alpha=.8;var n=t.parent.getChildIndex(t)+1;i.name="added",t.parent.addChildAt(i,n),egret.Tween.get(i).to({alpha:0,x:0,y:0},1e3).call(function(){i.parent&&i.parent.removeChild(i)})},e.gradualVague=function(e){var t=e,i=new eui.Image;i.width=t.width,i.height=t.height,i.source=t.source,i.x=i.y=5,i.alpha=0;var n=t.parent.getChildIndex(t)+1;i.name="added",t.parent.addChildAt(i,n),egret.Tween.get(i).to({alpha:.6},2e3).to({alpha:0},2e3),egret.Tween.get(t).to({alpha:0},4e3).call(function(){i.parent&&i.parent.removeChild(i)})},e}();e.EffectManager=t,__reflect(t.prototype,"childGame.EffectManager")}(childGame||(childGame={}));var childGame;!function(e){var t=function(e){function t(){var i=e.call(this,t.NAME)||this;return i.playerInfo={plotId:1,collectedScenes:[],fatigueValue:1e3},i.pointHunag=43,i.pointMu=43,i}return __extends(t,e),Object.defineProperty(t.prototype,"questions",{get:function(){return this._questions||(this._questions=new Map(Object.entries(RES.getRes("question_json")))),this._questions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chapterPlot",{get:function(){return this._chapterPlot||(this._chapterPlot=new Map(Object.entries(RES.getRes("chapter-plot_json")))),this._chapterPlot},enumerable:!0,configurable:!0}),t.prototype.getCurrentPlot=function(){return this.chapterPlot.get(this.playerInfo.plotId.toString())},Object.defineProperty(t.prototype,"sceneRes",{get:function(){if(!this._sceneRes){var e=RES.getRes("scene_json"),t=_(e).groupBy(function(e){return e.type}).value();this._sceneRes=new Map(Object.entries(t))}return this._sceneRes},enumerable:!0,configurable:!0}),t.NAME="GameProxy",t.SHOW_MINIGAME="show_minigame",t.PASS_MINIGAME="pass_minigame",t}(puremvc.Proxy);e.GameProxy=t,__reflect(t.prototype,"childGame.GameProxy",["puremvc.IProxy","puremvc.INotifier"])}(childGame||(childGame={}));var childGame;!function(e){var t=function(){function e(){}return e}();e.CommonData=t,__reflect(t.prototype,"childGame.CommonData")}(childGame||(childGame={}));var childGame;!function(e){var t=function(){function e(){}return Object.defineProperty(e,"ResourceEndpoint",{get:function(){return"DebugPlatform"==platform.name?e.Endpoints.localResource:e.Endpoints.remoteResource},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Endpoints",{get:function(){return"dev"==platform.env?{service:"http://gdjzj.hzsdgames.com:8091/",localResource:"",remoteResource:"http://gdjzj.hzsdgames.com:8091/miniGame/"}:"prod"==platform.env?{service:"http://gdjzj.hzsdgames.com:8091/",localResource:"",remoteResource:"http://gdjzj.hzsdgames.com:8091/miniGame/"}:"test"==platform.env?{service:"http://gdjzj.hzsdgames.com:8091/",localResource:"",remoteResource:"http://gdjzj.hzsdgames.com:8091/miniGame/"}:void 0},enumerable:!0,configurable:!0}),e}();e.Constants=t,__reflect(t.prototype,"childGame.Constants");var i;!function(e){e[e.Start=1]="Start",e[e.Game=2]="Game"}(i=e.Scene||(e.Scene={})),e.gameKey={FloorSwitch:"地板开关",CubeStop:"魔方停止"},e.gameType={Input:"填空",Select:"选择",MiniGame:"小游戏"},e.SceneType={SceneBg:"场景CG",ScenePerson:"人物CG",SceneProps:"道具CG"},e.plotType={PlotChange:"切换",PlotAdded:"追加",PlotQuestion:"谜题",Transition:"转场特效",PageChange:"界面切换经营"}}(childGame||(childGame={}));var childGame;!function(e){var t=function(){function e(){}return e}();e.PlayerInfo=t,__reflect(t.prototype,"childGame.PlayerInfo")}(childGame||(childGame={}));var childGame;!function(e){var t=function(){function e(){}return e}();e.Plot=t,__reflect(t.prototype,"childGame.Plot")}(childGame||(childGame={}));var childGame;!function(e){var t=function(){function e(){}return e}();e.QuestionGame=t,__reflect(t.prototype,"childGame.QuestionGame")}(childGame||(childGame={}));var childGame;!function(e){var t=function(){function e(){}return e.createDragonBone=function(e,t){var i=dragonBones.EgretFactory.factory;if(!i.getDragonBonesData(e)){var n=RES.getRes(e+"_ske_json");i.parseDragonBonesData(n)}if(!i.getTextureAtlasData(e)){var o=RES.getRes(e+"_tex_json"),r=RES.getRes(e+"_tex_png");i.parseTextureAtlasData(o,r)}var a=i.buildArmatureDisplay(t);return a},e}();e.DragonBones=t,__reflect(t.prototype,"childGame.DragonBones")}(childGame||(childGame={}));var childGame;!function(e){var t=function(){function e(){}return e.playSoundEffect=function(e){var t=RES.getRes(e);return t?t.play(0,1):void console.error("playSoundEffect: Unable to load sound: "+e)},e.stopBGM=function(){for(var t in e.musicClips)if(e.musicClips.hasOwnProperty(t)){var i=e.musicClips[t];i.stop()}},e.playBGM=function(t){e.stopBGM();var i=RES.getRes(t);return i?(e.musicClips[t]=i.play(),e.musicClips[t]):void console.error("playBGM: Unable to load music: "+t)},e.musicClips={},e}();e.SoundPool=t,__reflect(t.prototype,"childGame.SoundPool")}(childGame||(childGame={}));var childGame;!function(e){var t=function(e){function t(i){return e.call(this,t.NAME,i)||this}return __extends(t,e),t.prototype.listNotificationInterests=function(){return[]},t.prototype.handleNotification=function(e){e.getName()},Object.defineProperty(t.prototype,"main",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),t.NAME="ApplicationMediator",t}(puremvc.Mediator);e.ApplicationMediator=t,__reflect(t.prototype,"childGame.ApplicationMediator",["puremvc.IMediator","puremvc.INotifier"])}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(n){var o=t.call(this,i.NAME,n)||this;return t.prototype.initializeNotifier.call(o,"ChildApplicationFacade"),o.proxy=o.facade().retrieveProxy(e.GameProxy.NAME),o.loadResGroup(),o.gameScreen.textGroup.addEventListener(egret.TouchEvent.TOUCH_BEGIN,o.touchBegin,o),o.gameScreen.textGroup.addEventListener(egret.TouchEvent.TOUCH_END,o.touchEnd,o),o.gameScreen.plotSelectList.addEventListener(eui.ItemTapEvent.ITEM_TAP,o.selectItem,o),o.gameScreen.nextTest.addEventListener(egret.TouchEvent.TOUCH_TAP,o.showNext,o),o.gameScreen.btnTips.addEventListener(egret.TouchEvent.TOUCH_TAP,o.btnTipsClick,o),o.gameScreen.btnBack.addEventListener(egret.TouchEvent.TOUCH_TAP,o.btnBackClick,o),o.gameScreen.btnPicture.addEventListener(egret.TouchEvent.TOUCH_TAP,o.pictClick,o),o.gameScreen.addEventListener(egret.Event.ADDED_TO_STAGE,o.initData,o),o.initData(),o}return __extends(i,t),i.prototype.loadResGroup=function(){for(var e=[0,34,69,133,184,223],t=5;t>=0;t--)if(this.proxy.playerInfo.plotId>e[t]){try{RES.loadGroup("chapter"+t,0)}catch(i){console.log(i)}return}},Object.defineProperty(i.prototype,"plotOptions",{get:function(){return this._plotOptions||(this._plotOptions=new Map(Object.entries(RES.getRes("plot-options_json")))),this._plotOptions},enumerable:!0,configurable:!0}),i.prototype.initData=function(){var t=this;this.gameScreen.bottomGroup.visible=this.gameScreen.plotSelectList.visible=this.gameScreen.textGroup.visible=!1,this.gameScreen.showMiniGame=this.gameScreen.showTransition=this.showResult=this.isQuestion=!1,this.gameScreen.question=this.gameScreen.points="",this.gameScreen.scrollGroup.height=450,this.gameScreen.scrollGroup.viewport.scrollV=0,this.textIsOver=!0;var i=this.gameScreen.huangAndMubar.getChildByName("huangyanyan"),n=this.gameScreen.huangAndMubar.getChildByName("munai");i.width=this.gameScreen.huangAndMubar.width*this.proxy.pointHunag/86,n.width=this.gameScreen.huangAndMubar.width*this.proxy.pointMu/86;var o=this.proxy.getCurrentPlot();if(o)if(this.next=o.next,o.type==e.plotType.PlotQuestion){this.gameScreen.showScene=!1,this.gameScreen.questionGroup.visible=this.isQuestion=this.gameScreen.textGroup.visible=!0;var r=__assign({},this.proxy.questions.get(o.questionId.toString()));this.gameScreen.questionRes=r.img,this.gameScreen.description=r.description,this.gameScreen.question=r.question,this.rightText=r.right,this.questionPoints=[r.points1,r.points2],this.showPointsNum=0,this.gameScreen.scrollGroup.height=150,this.gameScreen.scrollGroup.viewport.scrollH=0,"填空"==r.type?(this.gameScreen.bottomGroup.visible=!0,this.gameScreen.showInput(r.answer)):"选择"==r.type?(this.gameScreen.bottomGroup.visible=!0,this.gameScreen.showSelect(r.optionsId)):"小游戏"==r.type&&(this.sendNotification(e.GameProxy.SHOW_MINIGAME,r.keyword),this.gameScreen.showMiniGame=!0)}else if(o.type==e.plotType.Transition)this.gameScreen.showTransition=!0,this.gameScreen.transitionText=o.effect,this.loadResGroup(),egret.setTimeout(function(){t.showNext()},this,2e3);else if("界面切换经营"==o.type)this.showNext();else{if(this.gameScreen.showScene=this.gameScreen.textGroup.visible=!0,this.gameScreen.questionGroup.visible=!1,this.settingScene(o.res,o.portrait,o.effect,o.effectTrigger),o.type!=e.plotType.PlotAdded&&(this.gameScreen.description=""),o.description&&(this.textIsOver=!1,this.wordList=o.description.split(""),this.addWordToDescription()),o.talkId&&this.showPlotOption(o.talkId),o.sound){var a=1e3*+o.playTime;egret.setTimeout(function(){e.SoundPool.playSoundEffect(o.sound)},this,a)}if(o.autoNextTime){var a=1e3*+o.autoNextTime;egret.setTimeout(function(){t.showNext()},this,a)}}},i.prototype.settingScene=function(t,i,n,o){var r=this,a=this.gameScreen.sceneGroup.getChildByName("added")||this.gameScreen.sceneGroup.parent.getChildByName("added");a&&a.parent.removeChild(a),egret.Tween.removeAllTweens(),this.gameScreen.sceneBg.horizontalCenter=0,this.gameScreen.sceneAddGroup.removeChildren();var s=t.split("、");s.forEach(function(t,a){if(r.proxy.playerInfo.collectedScenes.includes(t)||r.proxy.playerInfo.collectedScenes.push(t),a){var s=new eui.Image;s.source=t,i?s.scaleX=s.scaleY=1:s.scaleX=s.scaleY=.5,s.y=135,s.x=180*(a-1),r.gameScreen.sceneAddGroup.addChild(s),t==o&&e.EffectManager.playEffect.call(s,n)}else r.gameScreen.sceneBg.source=t,r.gameScreen.sceneBg.alpha=1,t==o&&e.EffectManager.playEffect.call(r.gameScreen.sceneBg,n)}),"all"==o&&e.EffectManager.playEffect.call(this.gameScreen.sceneGroup,n)},i.prototype.addWordToDescription=function(){var e=this;if(this.wordList.length)if(this.textIsOver)this.gameScreen.description+=this.wordList.join(""),this.wordList=[];else{var t=this.wordList.shift();this.gameScreen.description=this.gameScreen.description+t,egret.setTimeout(function(){e.addWordToDescription()},this,100)}else this.textIsOver=!0;var i=this.gameScreen.scrollGroup.viewport.contentHeight-this.gameScreen.scrollGroup.height;this.gameScreen.scrollGroup.viewport.scrollV=Math.max(0,i)},i.prototype.showPlotOption=function(t){var i=this;this.gameScreen.plotSelectList.visible=this.isQuestion=!0,this.gameScreen.scrollGroup.height=280;var n=this.plotOptions.get(t.toString());if(n){this.gameScreen.question=n.question||"";var o=[{option:n.option1,result:n.result1,next:1},{option:n.option2,result:n.result2,next:2}];this.gameScreen.plotSelectList.dataProvider=new eui.ArrayCollection(o),this.gameScreen.plotSelectList.itemRenderer=e.QuestionSelectItemRenderer}egret.setTimeout(function(){var e=i.gameScreen.scrollGroup.viewport.contentHeight-i.gameScreen.scrollGroup.height;i.gameScreen.scrollGroup.viewport.scrollV=Math.max(0,e)},this,100)},i.prototype.selectItem=function(){var e=+this.gameScreen.plotSelectList.selectedItem.result;this.proxy.pointHunag+=e,this.proxy.pointMu-=e,this.next=this.gameScreen.plotSelectList.selectedItem.next,this.showNext()},i.prototype.showRightResult=function(){var e=this;this.gameScreen.description=this.rightText,this.showResult=!0,egret.setTimeout(function(){e.showNext()},this,1500)},i.prototype.showNext=function(){return this.textIsOver?void(this.proxy.playerInfo.fatigueValue<=0||(this.proxy.playerInfo.fatigueValue-=1,this.next?"over"==this.next?this.proxy.pointMu>this.proxy.pointHunag?this.proxy.playerInfo.plotId=this.proxy.playerInfo.plotId+2:this.proxy.playerInfo.plotId=this.proxy.playerInfo.plotId+1:this.proxy.playerInfo.plotId=this.proxy.playerInfo.plotId+this.next:this.proxy.playerInfo.plotId=this.proxy.playerInfo.plotId+1,this.initData())):void(this.textIsOver=!0)},i.prototype.btnTipsClick=function(){this.showPointsNum?1==this.showPointsNum?(this.gameScreen.points=this.questionPoints[1],this.showPointsNum):(this.gameScreen.points="",this.showPointsNum=0):(this.gameScreen.points=this.questionPoints[0],this.showPointsNum++)},i.prototype.btnBackClick=function(){this.sendNotification(e.SceneCommand.CHANGE,e.Scene.Start)},i.prototype.pictClick=function(){this.sendNotification(e.SceneCommand.SHOW_SCENE)},i.prototype.touchBegin=function(e){e.stopImmediatePropagation(),this.beforeX=e.stageX,this.beforeY=e.stageY,this.touchBeginTime=(new Date).getTime()},i.prototype.touchEnd=function(e){if(e.stopImmediatePropagation(),!this.textIsOver)return void(this.textIsOver=!0);var t=(new Date).getTime();!this.isQuestion&&(e.stageX<this.beforeX-20&&Math.abs(e.stageY-this.beforeY)<20||t-this.touchBeginTime<300)&&this.showNext()},i.prototype.touchReleaseOutside=function(e){},i.prototype.listNotificationInterests=function(){return[e.GameProxy.PASS_MINIGAME]},i.prototype.handleNotification=function(t){t.getBody();switch(t.getName()){case e.GameProxy.PASS_MINIGAME:this.showRightResult()}},Object.defineProperty(i.prototype,"gameScreen",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),i.NAME="GameScreenMediator",i}(puremvc.Mediator);e.GameScreenMediator=t,__reflect(t.prototype,"childGame.GameScreenMediator",["puremvc.IMediator","puremvc.INotifier"])}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.paperList=[],e.recordList=[],e.answerList=[],e.is_touch_begin=!1,e.is_touch_move=!1,e.ischang=!1,e.is_move_end=!0,e.ww=!0,e.skinName="M14Skin",e}return __extends(i,t),i.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},i.prototype.childrenCreated=function(){var e=this;t.prototype.childrenCreated.call(this),this.paperList=[this.no1,this.no2,this.no3,this.no4,this.no5,this.no6,this.no7,this.no8],this.answerList=[{x:450.5,y:250,ro:0},{x:270.5,y:100,ro:0},{x:85.5,y:100,ro:0},{x:450.5,y:100,ro:0},{x:85.5,y:250,ro:0},{x:630.5,y:250,ro:0},{x:630.5,y:100,ro:0},{x:270.5,y:250,ro:0}],this.paperList.forEach(function(t){t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(){e.record(t)
},e),t.addEventListener(egret.TouchEvent.TOUCH_MOVE,e.move,e),t.addEventListener(egret.TouchEvent.TOUCH_END,e.transposition,e)})},i.prototype.record=function(e){this.is_move_end&&(this.first_img=e,this.first_img.parent.addChild(this.first_img),this.first_img_x=e.x,this.first_img_y=e.y,this.is_move_end=!1,this.is_touch_begin=!0)},i.prototype.move=function(e){this.is_touch_begin&&(this.first_img.x=e.stageX,this.first_img.y=e.stageY-90-64.5,this.is_touch_move=!0)},i.prototype.transposition=function(e){var t=this;(this.is_touch_move||this.is_touch_begin)&&(this.is_touch_begin=!1,this.ischang=!1,this.first_img.x==this.first_img_x&&this.first_img.y==this.first_img_y?this.first_img.rotation=0==this.first_img.rotation?180:0:this.paperList.forEach(function(e){Math.abs(t.first_img.x-e.x)<=84.5&&Math.abs(t.first_img.y-e.y)<=64.5&&t.first_img!=e&&(egret.Tween.get(t.first_img).to({x:e.x,y:e.y},300),egret.Tween.get(e).to({x:t.first_img_x,y:t.first_img_y},300),t.ischang=!0)}),this.ischang||egret.Tween.get(this.first_img).to({x:this.first_img_x,y:this.first_img_y},300),egret.setTimeout(this.move_end,this,300),this.iswin(),this.is_touch_move=!1)},i.prototype.move_end=function(){this.is_move_end=!0},i.prototype.iswin=function(){var t=this;this.ww=!0,this.paperList.forEach(function(e){var i=t.paperList.indexOf(e);(e.x!=t.answerList[i].x||e.y!=t.answerList[i].y||e.rotation!=t.answerList[i].ro)&&(t.ww=!1)}),this.ww&&(this.win.parent.addChild(this.win),this.win.visible=!0,e.ApplicationFacade.getInstance().sendNotification(e.GameProxy.PASS_MINIGAME))},i}(eui.Component);e.M14=t,__reflect(t.prototype,"childGame.M14",["eui.UIComponent","egret.DisplayObject"])}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.allCube=[],e.whiteCube=[],e.rowList=[2,58,114,173,229,285,344,400,456],e.columnList=[2,58,114,175,231,287,348,403,458],e.skinName="M2Skin",e}return __extends(i,t),i.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},i.prototype.childrenCreated=function(){var e=this;t.prototype.childrenCreated.call(this),this.allCube=[this.red1,this.red2,this.red3,this.red4,this.red5,this.red6,this.red7,this.red8,this.red9,this.blue1,this.blue2,this.blue3,this.blue4,this.blue5,this.blue6,this.blue7,this.blue8,this.blue9,this.white1,this.white2,this.white3,this.white4,this.white5,this.white6,this.white7,this.white8,this.white9,this.black1,this.black2,this.black3,this.black4,this.black5,this.black6,this.black7,this.black8,this.black9,this.yellow1,this.yellow2,this.yellow3,this.yellow4,this.yellow5,this.yellow6,this.yellow7,this.yellow8,this.yellow9],this.whiteCube=[this.white1,this.white2,this.white3,this.white4,this.white5,this.white6,this.white7,this.white8,this.white9],this.row1_1.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.moveCube(3,-1,"row")},this),this.row1_2.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.moveCube(3,1,"row")},this),this.row2_1.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.moveCube(4,-1,"row")},this),this.row2_2.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.moveCube(4,1,"row")},this),this.row3_1.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.moveCube(5,-1,"row")},this),this.row3_2.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.moveCube(5,1,"row")},this),this.column1_1.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.moveCube(3,-1,"column")},this),this.column1_2.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.moveCube(3,1,"column")},this),this.column2_1.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.moveCube(4,-1,"column")},this),this.column2_2.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.moveCube(4,1,"column")},this),this.column3_1.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.moveCube(5,-1,"column")},this),this.column3_2.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.moveCube(5,1,"column")},this)},i.prototype.moveCube=function(e,t,i){var n=this;this.allCube.forEach(function(o){if(o.y==n.columnList[e]&&"row"==i){var r=n.rowList.indexOf(o.x);r=(r+9+t)%9,o.x=n.rowList[r]}if(o.x==n.rowList[e]&&"column"==i){var a=n.columnList.indexOf(o.y);a=(a+9+t)%9,o.y=n.columnList[a]}}),this.isWin()},i.prototype.isWin=function(){var t=this,i=!0;this.whiteCube.forEach(function(e){t.rowList[6]>e.x&&(i=!1)}),i&&(this.win.visible=!0,e.ApplicationFacade.getInstance().sendNotification(e.GameProxy.PASS_MINIGAME))},i}(eui.Component);e.M2=t,__reflect(t.prototype,"childGame.M2",["eui.UIComponent","egret.DisplayObject"])}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.arr1=[],e.arr2=[],e.skinName="M24",e}return __extends(i,t),i.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},i.prototype.childrenCreated=function(){var e=this;t.prototype.childrenCreated.call(this),this.arr1=[this.hei,this.bai,this.zhu,this.he],this.arr2=[this.jiao,this.yi,this.ti,this.jia],this.arr1.forEach(function(t){t.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){return e.haha(t,e.arr1)},e)}),this.arr2.forEach(function(t){t.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){return e.haha(t,e.arr2)},e)})},i.prototype.haha=function(e,t){t.forEach(function(e){e.scaleX=1,e.scaleY=1}),e.scaleX=.8,e.scaleY=.8,this.iswin()},i.prototype.iswin=function(){.8==this.bai.scaleX&&.8==this.jiao.scaleX&&(this.win.visible=!0,e.ApplicationFacade.getInstance().sendNotification(e.GameProxy.PASS_MINIGAME))},i}(eui.Component);e.M24=t,__reflect(t.prototype,"childGame.M24",["eui.UIComponent","egret.DisplayObject"])}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.timeOnEnterFrame=0,e.skinName="M3_2Skin",e.once(egret.Event.ADDED_TO_STAGE,e.onLoad,e),e}return __extends(i,t),i.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},i.prototype.childrenCreated=function(){var i=this;t.prototype.childrenCreated.call(this);var n=[{image:"word_ren"},{image:"word_xin"},{image:"word_guo"},{image:"word_shi"}],o=new eui.ArrayCollection(n);this.wordList1.dataProvider=o,this.wordList2.dataProvider=o,this.wordList3.dataProvider=o,this.wordList4.dataProvider=o,this.wordList1.itemRenderer=e.wordList,this.wordList2.itemRenderer=e.wordList,this.wordList3.itemRenderer=e.wordList,this.wordList4.itemRenderer=e.wordList,this.word1.verticalScrollBar=null,this.word2.verticalScrollBar=null,this.word3.verticalScrollBar=null,this.word4.verticalScrollBar=null,this.word1.addEventListener(eui.UIEvent.CHANGE_END,function(){return i.stoptouch(i.word1)},this),this.word2.addEventListener(eui.UIEvent.CHANGE_END,function(){return i.stoptouch(i.word2)},this),this.word3.addEventListener(eui.UIEvent.CHANGE_END,function(){return i.stoptouch(i.word3)},this),this.word4.addEventListener(eui.UIEvent.CHANGE_END,function(){return i.stoptouch(i.word4)},this),this.turnOffLight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.turn,this),this.turnOnLight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.turn,this),console.log("布局成功")},i.prototype.stoptouch=function(e){-70<e.viewport.scrollV&&e.viewport.scrollV<70?e.viewport.scrollV=0:70<e.viewport.scrollV&&e.viewport.scrollV<210?e.viewport.scrollV=140:210<e.viewport.scrollV&&e.viewport.scrollV<350?e.viewport.scrollV=280:350<e.viewport.scrollV&&e.viewport.scrollV<490&&(e.viewport.scrollV=420),this.isWin()},i.prototype.isWin=function(){0==this.word1.viewport.scrollV&&420==this.word2.viewport.scrollV&&280==this.word3.viewport.scrollV&&140==this.word4.viewport.scrollV&&(this.win.visible=!0,e.ApplicationFacade.getInstance().sendNotification(e.GameProxy.PASS_MINIGAME))},i.prototype.turn=function(){this.bright.visible=this.bright.visible?!1:!0},i.prototype.onLoad=function(e){this.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this)},i.prototype.onEnterFrame=function(e){egret.getTimer(),this.timeOnEnterFrame;this.timeOnEnterFrame=egret.getTimer(),this.wordLoop(this.word1),this.wordLoop(this.word2),this.wordLoop(this.word3),this.wordLoop(this.word4)},i.prototype.wordLoop=function(e){e.viewport.scrollV<-70&&(e.viewport.scrollV=490),e.viewport.scrollV>490&&(e.viewport.scrollV=-70)},i}(eui.Component);e.M3_2=t,__reflect(t.prototype,"childGame.M3_2",["eui.UIComponent","egret.DisplayObject"])}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.moveCube=[],e.allCube=[],e.skinName="M5Skin",e}return __extends(i,t),i.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},i.prototype.childrenCreated=function(){var e=this;t.prototype.childrenCreated.call(this),this.moveCube=[this.cube1,this.cube2,this.cube3,this.cube4,this.cube5,this.cube6,this.cube7,this.cube8,this.cube9,this.cube10,this.cube11],this.allCube=[this.cube1,this.cube2,this.cube3,this.cube4,this.cube5,this.cube6,this.cube7,this.cube8,this.cube9,this.cube10,this.cube11,this.Start,this.End],this.moveCube.forEach(function(t){t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(i){e.touchBegin(t,i)},e),t.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,e.touchEnd,e)})},i.prototype.touchBegin=function(e,t){this.nowCube=e,this.touchPointBegin_x=t.stageX,this.touchPointBegin_y=t.stageY},i.prototype.touchEnd=function(e){var t=this;if(this.X=e.stageX-this.touchPointBegin_x,this.Y=e.stageY-this.touchPointBegin_y,Math.abs(this.X)>Math.abs(this.Y))if(this.X>0){var i=this.allCube.some(function(e){return e.x==t.nowCube.x+120&&e.y==t.nowCube.y});360==this.nowCube.x||i||(this.nowCube.x+=120)}else{var i=this.allCube.some(function(e){return e.x==t.nowCube.x-120&&e.y==t.nowCube.y});0==this.nowCube.x||i||(this.nowCube.x-=120)}else if(Math.abs(this.X)<Math.abs(this.Y))if(this.Y>0){var i=this.allCube.some(function(e){return e.y==t.nowCube.y+120&&e.x==t.nowCube.x});360==this.nowCube.y||i||(this.nowCube.y+=120)}else{var i=this.allCube.some(function(e){return e.y==t.nowCube.y-120&&e.x==t.nowCube.x});0==this.nowCube.y||i||(this.nowCube.y-=120)}this.isWin()},i.prototype.isWin=function(){0==this.cube7.x&&120==this.cube7.y&&120==this.cube3.x&&240==this.cube3.y&&240==this.cube2.x&&240==this.cube2.y&&360==this.cube10.x&&240==this.cube10.y&&(120==this.cube8.x&&120==this.cube8.y&&360==this.cube9.x&&120==this.cube9.y?(this.win.visible=!0,e.ApplicationFacade.getInstance().sendNotification(e.GameProxy.PASS_MINIGAME)):120==this.cube9.x&&120==this.cube9.y&&360==this.cube8.x&&120==this.cube8.y&&(this.win.visible=!0,e.ApplicationFacade.getInstance().sendNotification(e.GameProxy.PASS_MINIGAME)))},i}(eui.Component);e.M5=t,__reflect(t.prototype,"childGame.M5",["eui.UIComponent","egret.DisplayObject"])}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.allButton=[],e.password="0",e.skinName="M6Skin",e}return __extends(i,t),i.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},i.prototype.childrenCreated=function(){var e=this;t.prototype.childrenCreated.call(this),this.allButton=[this.button1,this.button2,this.button3,this.button4,this.button5],this.button1.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.key(e.button1,"1")},this),this.button2.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.key(e.button2,"2")},this),this.button3.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.key(e.button3,"3")},this),this.button4.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.key(e.button4,"4")},this),this.button5.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.key(e.button5,"5")},this)},i.prototype.key=function(t,i){t.enabled=!1,t.scaleX=.8,t.scaleY=.8,this.password+=i,5==this.password.length&&("05421"==this.password?(this.win.visible=!0,e.ApplicationFacade.getInstance().sendNotification(e.GameProxy.PASS_MINIGAME)):(this.lose.visible=!0,this.again.addEventListener(egret.TouchEvent.TOUCH_TAP,this.tryAgain,this)))},i.prototype.tryAgain=function(){this.lose.visible=!1,this.password="0",this.allButton.forEach(function(e){e.enabled=!0,e.scaleX=1,e.scaleY=1})},i}(eui.Component);e.M6=t,__reflect(t.prototype,"childGame.M6",["eui.UIComponent","egret.DisplayObject"])}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.heng=[],e.shu=[],e.zhangai=[],e.skinName="M9",e}return __extends(i,t),i.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},i.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.heng=[119,163,207,251,295,339,383,427,471,515,559,603],this.shu=[81,125,169,213,257,301,345,389,433,477],this.zhangai=[{x:163,y:169},{x:603,y:169},{x:339,y:213},{x:515,y:213},{x:119,y:257},{x:163,y:301},{x:559,y:345},{x:119,y:389},{x:471,y:389},{x:207,y:477}],this.bg.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.start,this),this.bg.addEventListener(egret.TouchEvent.TOUCH_END,this.end,this)},i.prototype.start=function(e){this.start_x=e.stageX,this.start_y=e.stageY},i.prototype.end=function(e){var t=Math.abs(e.stageX-this.start_x),i=Math.abs(e.stageY-this.start_y);t>i?e.stageX-this.start_x>0?this.you():this.zuo():e.stageY-this.start_y>0?this.xia():this.shang()},i.prototype.you=function(){var e=this;if(603!=this.ren.x){this.ren.x+=44,this.iswin();var t=!0;this.zhangai.forEach(function(i){i.x==e.ren.x&&i.y==e.ren.y&&(e.ren.x-=44,t=!1)}),t&&this.you()}},i.prototype.zuo=function(){var e=this;if(119!=this.ren.x){this.ren.x-=44,this.iswin();var t=!0;this.zhangai.forEach(function(i){i.x==e.ren.x&&i.y==e.ren.y&&(e.ren.x+=44,t=!1)}),t&&this.zuo()}},i.prototype.xia=function(){var e=this;if(477!=this.ren.y){this.ren.y+=44,this.iswin();var t=!0;this.zhangai.forEach(function(i){i.x==e.ren.x&&i.y==e.ren.y&&(e.ren.y-=44,t=!1)}),t&&this.xia()}},i.prototype.shang=function(){var e=this;if(81!=this.ren.y){this.ren.y-=44,this.iswin();var t=!0;this.zhangai.forEach(function(i){i.x==e.ren.x&&i.y==e.ren.y&&(e.ren.y+=44,t=!1)}),t&&this.shang()}},i.prototype.iswin=function(){515==this.ren.x&&257==this.ren.y&&(this.ren.visible=!1,e.ApplicationFacade.getInstance().sendNotification(e.GameProxy.PASS_MINIGAME))},i}(eui.Component);e.M9=t,__reflect(t.prototype,"childGame.M9",["eui.UIComponent","egret.DisplayObject"])}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(e){var n=t.call(this,i.NAME,e)||this;return n.selectedList=[],t.prototype.initializeNotifier.call(n,"ChildApplicationFacade"),n.cubeStop.buttonList.addEventListener(eui.ItemTapEvent.ITEM_TAP,n.selectItem,n),n.cubeStop.addEventListener(egret.Event.ADDED_TO_STAGE,n.initData,n),n}return __extends(i,t),i.prototype.initData=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return this.dataList=[{name:"一",img:"m20_1",isSelected:!1},{name:"一",img:"m20_2",isSelected:!1},{name:"一",img:"m20_3",isSelected:!1},{name:"一",img:"m20_4",isSelected:!1},{name:"一",img:"m20_5",isSelected:!1},{name:"一",img:"m20_6",isSelected:!1},{name:"一",img:"m20_7",isSelected:!1},{name:"一",img:"m20_8",isSelected:!1},{name:"一",img:"m20_9",isSelected:!1}],this.cubeStop.buttonList.dataProvider=new eui.ArrayCollection(this.dataList),this.cubeStop.buttonList.itemRenderer=e.CubeStopItemRenderer,[2]})})},i.prototype.selectItem=function(){console.log(this.cubeStop.buttonList.selectedItem);var t=this.cubeStop.buttonList.selectedItem,i=this.dataList.find(function(e){return e.img==t.img}),n=this.dataList.findIndex(function(e){return e.img==t.img});i.isSelected=!i.isSelected,9>n+3&&(this.dataList[n+3].isSelected=!this.dataList[n+3].isSelected),n-3>=0&&(this.dataList[n-3].isSelected=!this.dataList[n-3].isSelected),n%3!=2&&(this.dataList[n+1].isSelected=!this.dataList[n+1].isSelected),n%3!=0&&(this.dataList[n-1].isSelected=!this.dataList[n-1].isSelected),this.dataList.find(function(e){return!e.isSelected})||(this.cubeStop.buttonList.touchEnabled=!1,this.cubeStop.buttonList.touchChildren=!1,this.sendNotification(e.GameProxy.PASS_MINIGAME)),this.cubeStop.buttonList.dataProvider=new eui.ArrayCollection(this.dataList),this.cubeStop.buttonList.itemRenderer=e.CubeStopItemRenderer},Object.defineProperty(i.prototype,"cubeStop",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),i.NAME="MiniGameCubeStopMediator",i}(puremvc.Mediator);e.MiniGameCubeStopMediator=t,__reflect(t.prototype,"childGame.MiniGameCubeStopMediator",["puremvc.IMediator","puremvc.INotifier"])}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(){return t.call(this,"ChildApplicationFacade")||this}return __extends(i,t),i.getInstance=function(){return null==this.instance&&(this.instance=new i),this.instance},i.prototype.initializeController=function(){t.prototype.initializeController.call(this),this.registerCommand(i.STARTUP,e.StartupCommand)},i.prototype.startUp=function(t){this.sendNotification(i.STARTUP,t),this.removeCommand(i.STARTUP),this.sendNotification(e.SceneCommand.CHANGE,e.Scene.Start)},i.prototype.registerMediator=function(e){t.prototype.registerMediator.call(this,e)},i.STARTUP="startup",i}(puremvc.Facade);e.ApplicationFacade=t,__reflect(t.prototype,"childGame.ApplicationFacade",["puremvc.IFacade","puremvc.INotifier"])}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(e){var n=t.call(this,i.NAME,e)||this;return n.isSend=!1,t.prototype.initializeNotifier.call(n,"ChildApplicationFacade"),n.gameInput.answerInput.addEventListener(egret.FocusEvent.FOCUS_OUT,n.focusOut,n),n.gameInput.btnConfirm.addEventListener(egret.Event.CHANGE,n.confirmClick,n),n.gameInput.addEventListener(egret.Event.ADDED_TO_STAGE,n.initData,n),n.initData(),n}return __extends(i,t),i.prototype.initData=function(){return __awaiter(this,void 0,void 0,function(){var t,i;return __generator(this,function(n){for(this.gameInput.answerInput.textDisplay.size=45,this.gameInput.answerInput.text=null,this.isSend=!1,this.inputTextList=[],t=0;t<this.gameInput.answer.length;t++)this.inputTextList.push("");return i=new eui.TileLayout,i.horizontalGap=20,i.verticalGap=20,i.orientation="columns",i.requestedColumnCount=this.gameInput.answer.length<7?this.gameInput.answer.length:4,this.gameInput.inputItemList.layout=i,this.gameInput.inputItemList.dataProvider=new eui.ArrayCollection(this.inputTextList),this.gameInput.inputItemList.itemRenderer=e.InputItemRenderer,[2]})})},i.prototype.focusOut=function(t){var i=this;t.target.text.length>this.inputTextList.length&&(t.target.text=t.target.text.substr(0,this.inputTextList.length)),this.inputTextList=this.inputTextList.map(function(e){return""}),t.target.text.split("").forEach(function(e,t){t<i.inputTextList.length&&(i.inputTextList[t]=e)}),t.target.text!=this.gameInput.answer||this.isSend||(t.target.text="",this.sendNotification(e.GameProxy.PASS_MINIGAME),this.isSend=!0),this.gameInput.inputItemList.dataProvider=new eui.ArrayCollection(this.inputTextList),this.gameInput.inputItemList.itemRenderer=e.InputItemRenderer},i.prototype.confirmClick=function(){var t=this.inputTextList.join("");t!=this.gameInput.answer||this.isSend||(this.sendNotification(e.GameProxy.PASS_MINIGAME),this.isSend=!0)},Object.defineProperty(i.prototype,"gameInput",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),i.NAME="MiniGameInputMediator",i}(puremvc.Mediator);e.MiniGameInputMediator=t,__reflect(t.prototype,"childGame.MiniGameInputMediator",["puremvc.IMediator","puremvc.INotifier"])}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(e){var n=t.call(this,i.NAME,e)||this;return t.prototype.initializeNotifier.call(n,"ChildApplicationFacade"),n.jigsawImgGroupList=[n.gameJigsaw.jigsawImgGroup1,n.gameJigsaw.jigsawImgGroup2,n.gameJigsaw.jigsawImgGroup3,n.gameJigsaw.jigsawImgGroup4,n.gameJigsaw.jigsawImgGroup5,n.gameJigsaw.jigsawImgGroup6,n.gameJigsaw.jigsawImgGroup7,n.gameJigsaw.jigsawImgGroup8,n.gameJigsaw.jigsawImgGroup9],n.jigsawImgGroupList.forEach(function(e,t){e.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){e.stopImmediatePropagation(),n.jigsawImgclick(t)},n)}),n.gameJigsaw.addEventListener(egret.Event.ADDED_TO_STAGE,n.initData,n),n}return __extends(i,t),i.prototype.initData=function(){return __awaiter(this,void 0,void 0,function(){var e,t=this;return __generator(this,function(i){return e=["m08_2","m08_5","m08_8","m08_4","","m08_7","m08_1","m08_3","m08_6"],this.jigsawImgGroupList.forEach(function(i,n){var o=i.getChildByName("jigsawImg");o.source=e[n],e[n]||(t.emptyIndex=n)}),[2]})})},i.prototype.jigsawImgclick=function(e){if(this.emptyIndex==e+1||this.emptyIndex==e-1||this.emptyIndex==e+3||this.emptyIndex==e-3){var t=this.jigsawImgGroupList[e].getChildByName("jigsawImg"),i=this.jigsawImgGroupList[this.emptyIndex].getChildByName("jigsawImg");this.jigsawImgGroupList[e].addChild(i),this.jigsawImgGroupList[this.emptyIndex].addChild(t),this.emptyIndex=e,this.setResult()}},i.prototype.setResult=function(){var t=!0,i=["m08_1","","m08_2","m08_3","m08_4","m08_5","m08_6","m08_7","m08_8"];this.jigsawImgGroupList.forEach(function(e,n){var o=e.getChildByName("jigsawImg");o.source!=i[n]&&(t=!1)}),t&&this.sendNotification(e.GameProxy.PASS_MINIGAME)},Object.defineProperty(i.prototype,"gameJigsaw",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),i.NAME="MiniGameJigsawM08Mediator",i}(puremvc.Mediator);e.MiniGameJigsawM08Mediator=t,__reflect(t.prototype,"childGame.MiniGameJigsawM08Mediator",["puremvc.IMediator","puremvc.INotifier"])}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(e){var n=t.call(this,i.NAME,e)||this;return t.prototype.initializeNotifier.call(n,"ChildApplicationFacade"),n.jigsawImgGroupList=[n.gameJigsaw.jigsawImgGroup1,n.gameJigsaw.jigsawImgGroup2,n.gameJigsaw.jigsawImgGroup3,n.gameJigsaw.jigsawImgGroup4],n.jigsawImgGroupList.forEach(function(e){e.addEventListener(egret.TouchEvent.TOUCH_TAP,function(t){t.stopImmediatePropagation();var i=!e.getChildByName("jigsawMove").visible;e.getChildByName("border").visible=e.getChildByName("jigsawMove").visible=e.getChildByName("jigsawTrans").visible=i,n.jigsawImgGroupList.forEach(function(e,i){e!=t.currentTarget&&(e.getChildByName("border").visible=e.getChildByName("jigsawMove").visible=e.getChildByName("jigsawTrans").visible=!1)})},n),e.getChildByName("jigsawTrans").addEventListener(egret.TouchEvent.TOUCH_TAP,function(t){t.stopImmediatePropagation(),e.getChildByName("border").visible=e.getChildByName("jigsawMove").visible=e.getChildByName("jigsawTrans").visible=!1;var i=e.getChildByName("jigsawImg");i.rotation=i.rotation?0:180,n.setResult()},n),e.getChildByName("jigsawMove").addEventListener(egret.TouchEvent.TOUCH_BEGIN,n.touchBegin,n),e.getChildByName("jigsawMove").addEventListener(egret.TouchEvent.TOUCH_MOVE,n.onMove,n),e.getChildByName("jigsawMove").addEventListener(egret.TouchEvent.TOUCH_CANCEL,n.touchReleaseOutside,n),e.getChildByName("jigsawMove").addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,n.touchReleaseOutside,n)}),n.gameJigsaw.addEventListener(egret.Event.ADDED_TO_STAGE,n.initData,n),n.initData(),n}return __extends(i,t),i.prototype.initData=function(){return __awaiter(this,void 0,void 0,function(){var e,t,i,n,o;return __generator(this,function(r){for(e=["m16_1","m16_2","m16_3","m16_4"],t=0;4>t;t++)i=Math.floor(4*Math.random()),n=Math.floor(4*Math.random()),i!=n&&(o=e[i],e[i]=e[n],e[n]=o);return this.jigsawImgGroupList.forEach(function(t,i){var n=t.getChildByName("jigsawImg");n.source=e[i],n.rotation=Math.random()>.5?180:0}),[2]})})},i.prototype.onMove=function(e){e.stopImmediatePropagation(),this.draggedObject.x=e.stageX-this.offsetX,this.draggedObject.y=e.stageY-this.offsetY},i.prototype.touchBegin=function(e){console.log("TOUCH_BEGIN",e.currentTarget.name),e.stopImmediatePropagation(),this.draggedObject=e.currentTarget.parent,this.draggedObject.parent.addChild(this.draggedObject),this.beforeX=this.draggedObject.x,this.beforeY=this.draggedObject.y,this.offsetX=e.stageX-this.draggedObject.x,this.offsetY=e.stageY-this.draggedObject.y,e.currentTarget.addEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this)},i.prototype.touchEnd=function(e){var t=this;console.log("TOUCH_END",e.currentTarget.name),e.stopImmediatePropagation(),this.draggedObject&&e.currentTarget.parent==this.draggedObject&&(this.jigsawImgGroupList.forEach(function(e,i){if(t.draggedObject!=e){var n=Math.abs(t.draggedObject.x-e.x),o=Math.abs(t.draggedObject.y-e.y);if(70>o&&70>n){var r=t.draggedObject.getChildByName("jigsawImg"),a=e.getChildByName("jigsawImg");t.draggedObject.addChildAt(a,0),e.addChildAt(r,0),t.setResult()}}}),this.draggedObject.x=this.beforeX,this.draggedObject.y=this.beforeY)},i.prototype.touchReleaseOutside=function(e){this.draggedObject&&(this.draggedObject.x=this.beforeX,this.draggedObject.y=this.beforeY,this.draggedObject=null)},i.prototype.setResult=function(){var t=!0,i=["m16_1","m16_2","m16_3","m16_4"];this.jigsawImgGroupList.forEach(function(e,n){var o=e.getChildByName("jigsawImg");(o.source!=i[n]||0!=o.rotation)&&(t=!1)}),t&&(this.gameJigsaw.touchEnabled=!1,this.gameJigsaw.touchChildren=!1,this.sendNotification(e.GameProxy.PASS_MINIGAME))},Object.defineProperty(i.prototype,"gameJigsaw",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),i.NAME="MiniGameJigsawM16Mediator",i}(puremvc.Mediator);e.MiniGameJigsawM16Mediator=t,__reflect(t.prototype,"childGame.MiniGameJigsawM16Mediator",["puremvc.IMediator","puremvc.INotifier"])}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(e){var n=t.call(this,i.NAME,e)||this;t.prototype.initializeNotifier.call(n,"ChildApplicationFacade");var o=[1,0,0,0,100,0,1,0,0,100,0,0,1,0,100,0,0,0,1,0];return n._colorFlilter=new egret.ColorMatrixFilter(o),n.miniGame.btnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,n.leftClick,n),n.miniGame.btnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,n.rightClick,n),n.miniGame.btnConfirm.addEventListener(egret.TouchEvent.TOUCH_TAP,n.confirmClick,n),n.miniGame.btnReset.addEventListener(egret.TouchEvent.TOUCH_TAP,n.initData,n),n.miniGame.btnED.addEventListener(egret.TouchEvent.TOUCH_TAP,n.btnEDClick,n),n.miniGame.btnBack.addEventListener(egret.TouchEvent.TOUCH_TAP,n.btnBackClick,n),n.miniGame.addEventListener(egret.Event.ADDED_TO_STAGE,n.initData,n),n.initData(),n}return __extends(i,t),i.prototype.initData=function(){return __awaiter(this,void 0,void 0,function(){var e,t,i,n=this;return __generator(this,function(o){return this.jigsawNameList=["jigsaw01","jigsaw02","jigsaw03","jigsaw04","jigsaw05"],this.nowIndex=0,e=[0,-45,-90,45,90],this.jigsawNameList.forEach(function(t,i){var o=n.miniGame.jigsawGroup.getChildByName(t);o.rotation=e[i];var r=n.miniGame.jigsawResult.getChildByName(t);r.visible=!1,o.filters=[],r.filters=[]}),t=this.miniGame.jigsawGroup.getChildByName(this.jigsawNameList[this.nowIndex]),i=this.miniGame.jigsawResult.getChildByName(this.jigsawNameList[this.nowIndex]),i.visible||(i.visible=!0),i.rotation=t.rotation,t.filters=[this._colorFlilter],i.filters=[this._colorFlilter],[2]})})},i.prototype.leftClick=function(){var e=this;if(this.jigsawNameList.forEach(function(t){var i=e.miniGame.jigsawGroup.getChildByName(t);i.rotation=i.rotation+45>180?i.rotation-315:i.rotation+45}),this.jigsawNameList[this.nowIndex]){var t=this.miniGame.jigsawGroup.getChildByName(this.jigsawNameList[this.nowIndex]),i=this.miniGame.jigsawResult.getChildByName(this.jigsawNameList[this.nowIndex]);i.rotation=t.rotation}},i.prototype.rightClick=function(){var e=this;if(this.jigsawNameList.forEach(function(t){var i=e.miniGame.jigsawGroup.getChildByName(t);i.rotation=i.rotation-45<=-180?i.rotation+315:i.rotation-45}),this.jigsawNameList[this.nowIndex]){var t=this.miniGame.jigsawGroup.getChildByName(this.jigsawNameList[this.nowIndex]),i=this.miniGame.jigsawResult.getChildByName(this.jigsawNameList[this.nowIndex]);i.rotation=t.rotation}},i.prototype.confirmClick=function(){if(this.jigsawNameList[this.nowIndex]){var e=this.miniGame.jigsawGroup.getChildByName(this.jigsawNameList[this.nowIndex]),t=this.miniGame.jigsawResult.getChildByName(this.jigsawNameList[this.nowIndex]);e.filters=[],t.filters=[]}if(this.nowIndex++,this.jigsawNameList[this.nowIndex]){var e=this.miniGame.jigsawGroup.getChildByName(this.jigsawNameList[this.nowIndex]),t=this.miniGame.jigsawResult.getChildByName(this.jigsawNameList[this.nowIndex]);t.visible||(t.visible=!0),t.rotation=e.rotation,e.filters=[this._colorFlilter],t.filters=[this._colorFlilter]}5==this.nowIndex&&this.setResult()},i.prototype.setResult=function(){var t=this,i=!0,n=[-90,45,-135,180,-45];this.jigsawNameList.forEach(function(e,o){var r=t.miniGame.jigsawResult.getChildByName(e);r.rotation!=n[o]&&(i=!1)}),console.log(i),i&&(this.miniGame.touchEnabled=!1,this.miniGame.touchChildren=!1,this.sendNotification(e.GameProxy.PASS_MINIGAME))},i.prototype.btnEDClick=function(){this.miniGame.showTipsImg=this.miniGame.btnBack.visible=!0,this.miniGame.btnGroup.visible=this.miniGame.jigsawGroup.visible=!1},i.prototype.btnBackClick=function(){this.miniGame.showTipsImg=this.miniGame.btnBack.visible=!1,this.miniGame.btnGroup.visible=this.miniGame.jigsawGroup.visible=!0},Object.defineProperty(i.prototype,"miniGame",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),i.NAME="MiniGameM42Mediator",i}(puremvc.Mediator);e.MiniGameM42Mediator=t,__reflect(t.prototype,"childGame.MiniGameM42Mediator",["puremvc.IMediator","puremvc.INotifier"])}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(n){var o=t.call(this,i.NAME,n)||this;return t.prototype.initializeNotifier.call(o,"ChildApplicationFacade"),o.proxy=o.facade().retrieveProxy(e.GameProxy.NAME),o.initData(),o}return __extends(i,t),i.prototype.initData=function(){this.miniGame.clearStage();var e=this.getGameDisplayObject(this.gameName);e&&this.miniGame.addMiniGameObject(e)},i.prototype.getGameDisplayObject=function(t){var i=null;return this.gameName==e.gameKey.FloorSwitch?i=new e.MiniGameFloorSwitch:this.gameName==e.gameKey.CubeStop?i=new e.MiniGameCubeStop:"迷宫"==this.gameName?i=new e.MiniGameJigsawM16:"古董组合"==this.gameName?i=new e.MiniGameJigsawM08:"拼装分水镜"==this.gameName?i=new e.MiniGameM42:"古董组合1"==this.gameName?i=new e.M14:"密码锁2"==this.gameName?i=new e.M2:"M3aaa"==this.gameName?i=new e.M3_2:"拼图迷宫5"==this.gameName?i=new e.M5:"暗号6"==this.gameName?i=new e.M6:"找到出口"==this.gameName?i=new e.M9:"石门机关"==this.gameName&&(i=new e.M24),i},i.prototype.listNotificationInterests=function(){return[e.GameProxy.SHOW_MINIGAME]},i.prototype.handleNotification=function(t){var i=t.getBody();switch(t.getName()){case e.GameProxy.SHOW_MINIGAME:this.gameName=i,this.initData()}},Object.defineProperty(i.prototype,"miniGame",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),i.NAME="MiniGameMediator",i}(puremvc.Mediator);e.MiniGameMediator=t,__reflect(t.prototype,"childGame.MiniGameMediator",["puremvc.IMediator","puremvc.INotifier"])}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(e){var n=t.call(this,i.NAME,e)||this;return t.prototype.initializeNotifier.call(n,"ChildApplicationFacade"),n.gameSelect.buttonList.addEventListener(eui.ItemTapEvent.ITEM_TAP,n.selectItem,n),n.gameSelect.addEventListener(egret.Event.ADDED_TO_STAGE,n.initData,n),n}return __extends(i,t),Object.defineProperty(i.prototype,"selectOptions",{get:function(){return this._selectOptions||(this._selectOptions=new Map(Object.entries(RES.getRes("select-options_json")))),this._selectOptions},enumerable:!0,configurable:!0}),i.prototype.initData=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return this.optionsItem=this.selectOptions.get(this.gameSelect.optionsId.toString()),this.options=this.optionsItem.options.map(function(e){return{option:e,isSelected:!1}}),this.gameSelect.buttonList.dataProvider=new eui.ArrayCollection(this.options),this.gameSelect.buttonList.itemRenderer=e.QuestionSelectItemRenderer,[2]
})})},i.prototype.selectItem=function(){var t=this;this.options.forEach(function(e){e.isSelected=e.option==t.gameSelect.buttonList.selectedItem.option}),this.gameSelect.buttonList.dataProvider=new eui.ArrayCollection(this.options),this.gameSelect.buttonList.itemRenderer=e.QuestionSelectItemRenderer,this.gameSelect.buttonList.selectedItem.option==this.optionsItem.answer&&(this.optionsItem.next?(this.gameSelect.optionsId=this.optionsItem.next,this.initData()):this.sendNotification(e.GameProxy.PASS_MINIGAME))},Object.defineProperty(i.prototype,"gameSelect",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),i.NAME="MiniGameSelectMediator",i}(puremvc.Mediator);e.MiniGameSelectMediator=t,__reflect(t.prototype,"childGame.MiniGameSelectMediator",["puremvc.IMediator","puremvc.INotifier"])}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(n){var o=t.call(this,i.NAME,n)||this;return t.prototype.initializeNotifier.call(o,"ChildApplicationFacade"),o.proxy=o.facade().retrieveProxy(e.GameProxy.NAME),o.sceneDetailsWindow.sceneList.addEventListener(eui.ItemTapEvent.ITEM_TAP,o.previewClick,o),o.sceneDetailsWindow.btnBack.addEventListener(egret.TouchEvent.TOUCH_TAP,o.backClick,o),o.sceneDetailsWindow.addEventListener(egret.Event.ADDED_TO_STAGE,o.initData,o),o.initData(),o}return __extends(i,t),i.prototype.initData=function(){var t=this,i=this.proxy.sceneRes.get(this.sceneDetailsWindow.type).map(function(i){var n=__assign({},i);return t.proxy.playerInfo.collectedScenes.includes(i.res)?(n.isCollected=!0,n.type==e.SceneType.ScenePerson?n.scale=.25:n.scale=.42):(n.isCollected=!1,n.res="not-get",n.name="未获得",n.scale=1),n});this.sceneDetailsWindow.collectedText=i.filter(function(e){return e.isCollected}).length+"/"+i.length,i.sort(function(e,t){return e.isCollected?-1:t.isCollected?1:0}),this.sceneDetailsWindow.sceneList.dataProvider=new eui.ArrayCollection(i),this.sceneDetailsWindow.sceneList.itemRenderer=e.SceneDetailsItemRenderer},i.prototype.backClick=function(){this.sceneDetailsWindow.close()},i.prototype.previewClick=function(){var t=this.sceneDetailsWindow.sceneList.selectedItem;if(t.isCollected){var i=[e.Constants.ResourceEndpoint+"resource/assets/scene/"+t.res+"."+(this.sceneDetailsWindow.type==e.SceneType.SceneBg?"jpg":"png")];platform.showPreImage(i)}},i.prototype.listNotificationInterests=function(){return[]},i.prototype.handleNotification=function(e){e.getBody();e.getName()},Object.defineProperty(i.prototype,"sceneDetailsWindow",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),i.NAME="SceneDetailsWindowMediator",i}(puremvc.Mediator);e.SceneDetailsWindowMediator=t,__reflect(t.prototype,"childGame.SceneDetailsWindowMediator",["puremvc.IMediator","puremvc.INotifier"])}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(n){var o=t.call(this,i.NAME,n)||this;return t.prototype.initializeNotifier.call(o,"ChildApplicationFacade"),o.proxy=o.facade().retrieveProxy(e.GameProxy.NAME),o.loadResGroup(),o.sceneSummaryWindow.btnBack.addEventListener(egret.TouchEvent.TOUCH_TAP,o.backClick,o),o.sceneSummaryWindow.btnSceneBg.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){o.sendNotification(e.SceneCommand.SHOW_SCENE_DETAILS,e.SceneType.SceneBg)},o),o.sceneSummaryWindow.btnScenePerson.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){o.sendNotification(e.SceneCommand.SHOW_SCENE_DETAILS,e.SceneType.ScenePerson)},o),o.sceneSummaryWindow.btnSceneProps.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){o.sendNotification(e.SceneCommand.SHOW_SCENE_DETAILS,e.SceneType.SceneProps)},o),o.sceneSummaryWindow.addEventListener(egret.Event.ADDED_TO_STAGE,o.initData,o),o.initData(),o}return __extends(i,t),i.prototype.loadResGroup=function(){for(var e=[0,34,69,134,184,223],t=0;6>t;t++)if(this.proxy.playerInfo.plotId>e[t])try{RES.loadGroup("chapter"+t,0)}catch(i){console.log(i)}},i.prototype.initData=function(){var e=RES.getRes("scene_json");this.sceneSummaryWindow.collectedText=this.proxy.playerInfo.collectedScenes.length+"/"+e.length,this.sceneSummaryWindow.finishText="1/10"},i.prototype.backClick=function(){this.sceneSummaryWindow.close()},i.prototype.listNotificationInterests=function(){return[]},i.prototype.handleNotification=function(e){e.getBody();e.getName()},Object.defineProperty(i.prototype,"sceneSummaryWindow",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),i.NAME="SceneSummaryWindowMediator",i}(puremvc.Mediator);e.SceneSummaryWindowMediator=t,__reflect(t.prototype,"childGame.SceneSummaryWindowMediator",["puremvc.IMediator","puremvc.INotifier"])}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(n){var o=t.call(this,i.NAME,n)||this;return t.prototype.initializeNotifier.call(o,"ChildApplicationFacade"),o.proxy=o.facade().retrieveProxy(e.GameProxy.NAME),o.startScreen.btnResumeGame.addEventListener(egret.TouchEvent.TOUCH_TAP,o.entryGame,o),o.startScreen.btnNewGame.addEventListener(egret.TouchEvent.TOUCH_TAP,o.newGame,o),o.startScreen.btnManage.addEventListener(egret.TouchEvent.TOUCH_TAP,o.showManage,o),o.startScreen.btnDev.addEventListener(egret.TouchEvent.TOUCH_TAP,o.showDeveloper,o),o.startScreen.btnPicture.addEventListener(egret.TouchEvent.TOUCH_TAP,o.pictClick,o),o.startScreen.btnStore.addEventListener(egret.TouchEvent.TOUCH_TAP,o.storeClick,o),o.startScreen.btnShare.addEventListener(egret.TouchEvent.TOUCH_TAP,o.shareClick,o),o.startScreen.btnSetting.addEventListener(egret.TouchEvent.TOUCH_TAP,o.settingClick,o),o.startScreen.addEventListener(egret.Event.ADDED_TO_STAGE,o.initData,o),o.initData(),o}return __extends(i,t),i.prototype.initData=function(){this.startScreen.btnResumeGame.visible=1!=this.proxy.playerInfo.plotId?!0:!1},i.prototype.entryGame=function(){this.sendNotification(e.SceneCommand.CHANGE,e.Scene.Game)},i.prototype.newGame=function(){this.proxy.playerInfo.plotId=1,this.sendNotification(e.SceneCommand.CHANGE,e.Scene.Game)},i.prototype.showManage=function(){this.sendNotification(e.SceneCommand.SHOW_MANAGE)},i.prototype.showDeveloper=function(){this.sendNotification(e.SceneCommand.SHOW_DEVE)},i.prototype.pictClick=function(){this.sendNotification(e.SceneCommand.SHOW_SCENE)},i.prototype.storeClick=function(){this.sendNotification(e.SceneCommand.SHOW_STORE)},i.prototype.shareClick=function(){platform.shareAppMessage()},i.prototype.settingClick=function(){this.sendNotification(e.SceneCommand.SHOW_SETTING)},i.prototype.listNotificationInterests=function(){return[]},i.prototype.handleNotification=function(e){e.getBody();e.getName()},Object.defineProperty(i.prototype,"startScreen",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),i.NAME="StartScreenMediator",i}(puremvc.Mediator);e.StartScreenMediator=t,__reflect(t.prototype,"childGame.StartScreenMediator",["puremvc.IMediator","puremvc.INotifier"])}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(n){var o=t.call(this,i.NAME,n)||this;return t.prototype.initializeNotifier.call(o,"ChildApplicationFacade"),o.proxy=o.facade().retrieveProxy(e.GameProxy.NAME),o.storeWindow.btnBack.addEventListener(egret.TouchEvent.TOUCH_TAP,o.backClick,o),o.storeWindow.addEventListener(egret.Event.ADDED_TO_STAGE,o.initData,o),o.initData(),o}return __extends(i,t),i.prototype.initData=function(){var t=RES.getRes("shop_json"),i=new eui.ArrayCollection(t);this.storeWindow.shoplist.dataProvider=i,this.storeWindow.shoplist.itemRenderer=e.shop_list},i.prototype.backClick=function(){this.storeWindow.close()},i.prototype.listNotificationInterests=function(){return[]},i.prototype.handleNotification=function(e){e.getBody();e.getName()},Object.defineProperty(i.prototype,"storeWindow",{get:function(){return this.viewComponent},enumerable:!0,configurable:!0}),i.NAME="StoreWindowMediator",i}(puremvc.Mediator);e.StoreWindowMediator=t,__reflect(t.prototype,"childGame.StoreWindowMediator",["puremvc.IMediator","puremvc.INotifier"])}(childGame||(childGame={}));var childGame;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName="CubeStopItemSkin",t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){this.img=this.data.isSelected?this.data.img:"m20_0"},t}(eui.ItemRenderer);e.CubeStopItemRenderer=t,__reflect(t.prototype,"childGame.CubeStopItemRenderer")}(childGame||(childGame={}));var childGame;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName="DeveloperWindow",t.addEventListener(eui.UIEvent.CREATION_COMPLETE,t.createCompleteEvent,t),t}return __extends(t,e),t.prototype.createCompleteEvent=function(e){this.height=this.stage.stageHeight,this.removeEventListener(eui.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this)},t}(eui.Panel);e.DeveloperWindow=t,__reflect(t.prototype,"childGame.DeveloperWindow")}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(){var i=t.call(this)||this;return i.description="",i.inputGroup=new e.MiniGameInput,i.selectGroup=new e.MiniGameSelect,i.skinName="GameScreen",i.addEventListener(eui.UIEvent.CREATION_COMPLETE,i.createCompleteEvent,i),i}return __extends(i,t),i.prototype.createCompleteEvent=function(t){this.height=this.stage.stageHeight,this.removeEventListener(eui.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this),e.ApplicationFacade.getInstance().registerMediator(new e.GameScreenMediator(this))},i.prototype.showInput=function(e){this.bottomGroup.removeChildren(),this.inputGroup.setAnswer(e),this.bottomGroup.addChild(this.inputGroup)},i.prototype.showSelect=function(e){this.bottomGroup.removeChildren(),this.selectGroup.setOptionsId(e),this.bottomGroup.addChild(this.selectGroup)},i}(eui.Component);e.GameScreen=t,__reflect(t.prototype,"childGame.GameScreen")}(childGame||(childGame={}));var childGame;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName="InputItemSkin",t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){},t}(eui.ItemRenderer);e.InputItemRenderer=t,__reflect(t.prototype,"childGame.InputItemRenderer")}(childGame||(childGame={}));var childGame;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName="ManageWindow",t.addEventListener(eui.UIEvent.CREATION_COMPLETE,t.createCompleteEvent,t),t}return __extends(t,e),t.prototype.createCompleteEvent=function(e){this.height=this.stage.stageHeight,this.removeEventListener(eui.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this)},t}(eui.Panel);e.ManageWindow=t,__reflect(t.prototype,"childGame.ManageWindow")}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.addEventListener(eui.UIEvent.CREATION_COMPLETE,e.createCompleteEvent,e),e}return __extends(i,t),i.prototype.addMiniGame=function(e){void 0===e&&(e="");var t=egret.getDefinitionByName(e);this._miniGame=new t,this.addChild(this._miniGame)},i.prototype.addMiniGameObject=function(e){this.addChild(e)},i.prototype.clearStage=function(){this.removeChildren()},i.prototype.createCompleteEvent=function(t){this.removeEventListener(eui.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this),e.ApplicationFacade.getInstance().registerMediator(new e.MiniGameMediator(this))},i}(eui.Component);e.MiniGame=t,__reflect(t.prototype,"childGame.MiniGame")}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.skinName="MiniGameCubeStop",e.addEventListener(eui.UIEvent.CREATION_COMPLETE,e.createCompleteEvent,e),e}return __extends(i,t),i.prototype.createCompleteEvent=function(t){this.removeEventListener(eui.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this),e.ApplicationFacade.getInstance().registerMediator(new e.MiniGameCubeStopMediator(this))},i}(eui.Component);e.MiniGameCubeStop=t,__reflect(t.prototype,"childGame.MiniGameCubeStop")}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.skinName="MiniGameFloorSwitch",e.addEventListener(eui.UIEvent.CREATION_COMPLETE,e.createCompleteEvent,e),e}return __extends(i,t),i.prototype.createCompleteEvent=function(t){this.removeEventListener(eui.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this),e.ApplicationFacade.getInstance().registerMediator(new e.MiniGameFloorSwitchMediator(this))},i}(eui.Component);e.MiniGameFloorSwitch=t,__reflect(t.prototype,"childGame.MiniGameFloorSwitch")}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.skinName="MiniGameInput",e.addEventListener(eui.UIEvent.CREATION_COMPLETE,e.createCompleteEvent,e),e}return __extends(i,t),i.prototype.createCompleteEvent=function(t){this.removeEventListener(eui.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this),e.ApplicationFacade.getInstance().registerMediator(new e.MiniGameInputMediator(this))},i.prototype.setAnswer=function(e){this.answer=e},i}(eui.Component);e.MiniGameInput=t,__reflect(t.prototype,"childGame.MiniGameInput")}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.skinName="MiniGameJigsawM08",e.addEventListener(eui.UIEvent.CREATION_COMPLETE,e.createCompleteEvent,e),e}return __extends(i,t),i.prototype.createCompleteEvent=function(t){this.removeEventListener(eui.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this),e.ApplicationFacade.getInstance().registerMediator(new e.MiniGameJigsawM08Mediator(this))},i}(eui.Component);e.MiniGameJigsawM08=t,__reflect(t.prototype,"childGame.MiniGameJigsawM08")}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.skinName="MiniGameJigsawM16",e.addEventListener(eui.UIEvent.CREATION_COMPLETE,e.createCompleteEvent,e),e}return __extends(i,t),i.prototype.createCompleteEvent=function(t){this.removeEventListener(eui.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this),e.ApplicationFacade.getInstance().registerMediator(new e.MiniGameJigsawM16Mediator(this))},i}(eui.Component);e.MiniGameJigsawM16=t,__reflect(t.prototype,"childGame.MiniGameJigsawM16")}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.skinName="MiniGameM42",e.addEventListener(eui.UIEvent.CREATION_COMPLETE,e.createCompleteEvent,e),e}return __extends(i,t),i.prototype.createCompleteEvent=function(t){this.removeEventListener(eui.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this),e.ApplicationFacade.getInstance().registerMediator(new e.MiniGameM42Mediator(this))},i}(eui.Component);e.MiniGameM42=t,__reflect(t.prototype,"childGame.MiniGameM42")}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.skinName="MiniGameSelect",e.addEventListener(eui.UIEvent.CREATION_COMPLETE,e.createCompleteEvent,e),e}return __extends(i,t),i.prototype.createCompleteEvent=function(t){this.removeEventListener(eui.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this),e.ApplicationFacade.getInstance().registerMediator(new e.MiniGameSelectMediator(this))},i.prototype.setOptionsId=function(e){this.optionsId=e},i}(eui.Component);e.MiniGameSelect=t,__reflect(t.prototype,"childGame.MiniGameSelect")}(childGame||(childGame={}));var childGame;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName="QuestionSelectItemSkin",t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){this.fontSize=40,this.data.option.length>15&&(this.fontSize=32),this.data.isSelected&&(this.scaleX=this.scaleY=.9)},t}(eui.ItemRenderer);e.QuestionSelectItemRenderer=t,__reflect(t.prototype,"childGame.QuestionSelectItemRenderer")}(childGame||(childGame={}));var childGame;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName="SceneDetailsItemSkin",t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){},t}(eui.ItemRenderer);e.SceneDetailsItemRenderer=t,__reflect(t.prototype,"childGame.SceneDetailsItemRenderer")}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.skinName="SceneDetailsWindow",e.addEventListener(eui.UIEvent.CREATION_COMPLETE,e.createCompleteEvent,e),e}return __extends(i,t),i.prototype.createCompleteEvent=function(t){this.height=this.stage.stageHeight,this.removeEventListener(eui.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this),e.ApplicationFacade.getInstance().registerMediator(new e.SceneDetailsWindowMediator(this))},i.prototype.setSceneType=function(t){this.type=t,t==e.SceneType.SceneBg?this.titleRes="title-scene-cg":t==e.SceneType.ScenePerson?this.titleRes="title-person-cg":this.titleRes="title-props-cg"},i}(eui.Panel);e.SceneDetailsWindow=t,__reflect(t.prototype,"childGame.SceneDetailsWindow")}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.skinName="SceneSummaryWindow",e.addEventListener(eui.UIEvent.CREATION_COMPLETE,e.createCompleteEvent,e),e}return __extends(i,t),i.prototype.createCompleteEvent=function(t){this.height=this.stage.stageHeight,this.removeEventListener(eui.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this),e.ApplicationFacade.getInstance().registerMediator(new e.SceneSummaryWindowMediator(this))},i}(eui.Panel);e.SceneSummaryWindow=t,__reflect(t.prototype,"childGame.SceneSummaryWindow")}(childGame||(childGame={}));var childGame;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName="SettingWindow",t.addEventListener(eui.UIEvent.CREATION_COMPLETE,t.createCompleteEvent,t),t}return __extends(t,e),t.prototype.createCompleteEvent=function(e){this.height=this.stage.stageHeight,this.removeEventListener(eui.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this)},t}(eui.Panel);e.SettingWindow=t,__reflect(t.prototype,"childGame.SettingWindow")}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.skinName="ChildStartScreen",e.addEventListener(eui.UIEvent.CREATION_COMPLETE,e.createCompleteEvent,e),e}return __extends(i,t),i.prototype.createCompleteEvent=function(t){this.height=this.stage.stageHeight,this.removeEventListener(eui.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this),e.ApplicationFacade.getInstance().registerMediator(new e.StartScreenMediator(this))},i.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i),console.log(e)},i}(eui.Component);e.StartScreen=t,__reflect(t.prototype,"childGame.StartScreen")}(childGame||(childGame={}));var childGame;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.skinName="StoreWindow",e.addEventListener(eui.UIEvent.CREATION_COMPLETE,e.createCompleteEvent,e),e}return __extends(i,t),i.prototype.createCompleteEvent=function(t){this.height=this.stage.stageHeight,this.removeEventListener(eui.UIEvent.CREATION_COMPLETE,this.createCompleteEvent,this),e.ApplicationFacade.getInstance().registerMediator(new e.StoreWindowMediator(this))},i}(eui.Panel);e.StoreWindow=t,__reflect(t.prototype,"childGame.StoreWindow")}(childGame||(childGame={}));var childGame;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName="SwitchItemSkin",t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){this.data.isSelected&&(this.buttonImg.scaleX=this.buttonImg.scaleY=.9)},t}(eui.ItemRenderer);e.SwitchItemRenderer=t,__reflect(t.prototype,"childGame.SwitchItemRenderer")}(childGame||(childGame={}));var childGame;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName="resource/containers/skins_list/shop_list.exml",t.pay.addEventListener(egret.TouchEvent.TOUCH_TAP,t.haha,t),t}return __extends(t,e),t.prototype.haha=function(){console.log("你花费了"+this.pay_money.text)},t}(eui.ItemRenderer);e.shop_list=t,__reflect(t.prototype,"childGame.shop_list")}(childGame||(childGame={}));var childGame;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName="resource/containers/skins_list/M3_2_List.exml",t}return __extends(t,e),t}(eui.ItemRenderer);e.wordList=t,__reflect(t.prototype,"childGame.wordList")}(childGame||(childGame={}));